<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>ExtJS 5.1.0</title>
    <link rel="stylesheet" type="text/css" href="ext-5.1.0/ext-theme-classic/build/resources/ext-theme-classic-all.css" />
    <script type="text/javascript" src="ext-5.1.0/ext-all.js"></script>
    <script type="text/javascript" src="ext-5.1.0/ext-theme-classic/build/ext-theme-classic.js"></script>
  </head>
  <body> 
    <div id="panel" style="width: 100%; height: 100%;">
      <script>
        Ext.define('MyMessageBox', {
          extend: 'Ext.window.MessageBox',
          alias: 'widget.defMsgBox',
          modal: false,
          renderMask: null,
          initComponent: function() {
            this.callParent();
            this.showMask();
          },
          showMask: function() {
            if(this.renderMask !== null) {
              this.renderMask.el.mask();
            }
          },
          hideMask: function() {
            if(this.renderMask !== null) {
              this.renderMask.el.unmask();
            }
          }
        });

        var myPanel = Ext.create('Ext.panel.Panel', {
          title: 'West Region is collapsible',
          region: 'west',
          width: 400,
          id: 'west-region-container',
          layout: 'fit',
          tbar: [
            {
              xtype: 'button',
              text: 'press',
              handler: onClick
            }
          ]
        });
        Ext.create('Ext.panel.Panel', {
          width: 600,
          height: 400,
          title: 'Border Layout',
          layout: 'border',
          items: [
            myPanel, {
              title: 'Center Region',
              region: 'center',
              xtype: 'panel',
              layout: 'fit'
            }],
          renderTo: Ext.getBody()
        });
        function onClick() {

          var msg = Ext.create('MyMessageBox', {
            renderMask: myPanel
          });
          msg.buttonText = {
            yes: '<span style="color: #083772"><b>Да</b></span>',
            no: '<span style="color: #083772"><b>Не</b></span>'
          };
          msg.show({
            modal: false,
            fixed: true,
            title: 'Изтриване',
            msg: 'Сигурни ли сте, че искате да изтриете записа?',
            // buttons: Ext.MessageBox.YESNO,
            // fn: removeSelectedItem,
            buttonText: {
              yes: '<span style="color: #083772"><b>Да</b></span>',
              no: '<span style="color: #083772"><b>Не</b></span>'
            },
            fn: function(btn) {
              msg.hideMask();
            },
            scope: this,
            icon: Ext.MessageBox.QUESTION
          });

          msg.alignTo(myPanel.el, 'c-c');
//           msg.alignTo(Ext.getCmp('west-region-container').el, 'c-c');

        }
//        myPanel.el.on('tap', function() {
//          Ext.Msg.alert('Tap OK.');
//        });
      </script> 
    </div>
  </body>
</html>
